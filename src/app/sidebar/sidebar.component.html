<div class="sidebar p-8">
	<mat-accordion>
		<mat-expansion-panel [expanded]="true">
			<mat-expansion-panel-header>
				<mat-panel-title>
					Templates
				</mat-panel-title>
			</mat-expansion-panel-header>

			<h2>Add a Template</h2>
			<app-new-form></app-new-form>

			<hr class="my-12" />

			<h2>All Template</h2>
			<ng-container *ngFor="let template of store.data.templates">
				<ng-container *ngTemplateOutlet="templateTmpl; context: { $implicit: template }"></ng-container>
			</ng-container>
		</mat-expansion-panel>

		<mat-expansion-panel [expanded]="false">
			<mat-expansion-panel-header>
				<mat-panel-title>
					Schematics
				</mat-panel-title>
			</mat-expansion-panel-header>

			<h2>Add a Schematics</h2>

			<hr class="my-12" />

			<h2>All Schematics</h2>
			<ng-container *ngIf="!store.data.schematics || store.data.schematics.length === 0">
				<p>No Schematics to show. Add one?</p>
			</ng-container>
			<ng-container *ngFor="let schematic of store.data.schematics">
				<ng-container *ngTemplateOutlet="schemTmpl; context: { $implicit: schematic }"></ng-container>
			</ng-container>
		</mat-expansion-panel>

	</mat-accordion>
</div>

<ng-template #schemTmpl let-schem></ng-template>

<ng-template #templateTmpl let-template>
	<div class="template">
		<strong>{{ template.name }}</strong>
		<div class="d-flex justify-between mt-4">
			<div class="d-flex flex-column text-center">
				<div>
					<i class="fas fa-hashtag text-primary"></i>
				</div>
				<div>
					<span>X{{ template.itemsProduced }}</span>
				</div>
			</div>

			<div class="d-flex flex-column text-center">
				<div>
					<i class="fas fa-shipping-timed text-primary"></i>
				</div>
				<div>
					<span>{{ template.craftingSpeedInSeconds }}s</span>
				</div>
			</div>

			<div class="d-flex flex-column text-center">
				<div>
					<i class="fas fa-microchip text-primary"></i>
				</div>
				<div>
					<span>{{ template.components.length ? template.components.length : 'none' }}</span>
				</div>
			</div>
		</div>
	</div>
</ng-template>