<div class="mt-4 ml-8">
	<h1>Factory Game Calculator</h1>
</div>

<div class="container">
	<ng-container *ngFor="let recipe of recipes">
		<ng-container
			*ngTemplateOutlet="recipeTmpl; context: { $implicit: recipe }"
		></ng-container>
	</ng-container>

	<div class="mt-4">
		<p>Add A Recipe:</p>

		<div class="d-flex align-center">
			<mat-form-field appearance="standard" class="flex-grow">
				<input
					matInput
					[(ngModel)]="currentRecipeName"
					placeholder="Name"
				/>
			</mat-form-field>

			<button
				[disabled]="!currentRecipeName"
				class="ml-2"
				(click)="addItem()"
			>
				<i class="fas fa-plus-octagon"></i>
				<span class="ml-4">Add</span>
			</button>
		</div>
	</div>
</div>

<ng-template #recipeTmpl let-recipe>
	<div class="mt-4 recipe py-4 px-8">
		<p>
			<strong>{{ recipe.name }}</strong>
		</p>
		<div class="d-flex ml-4 stats">
			<div class="text-center py-4 px-6 mr-4">
				<div class="icon">
					<i
						title="Number of items produced per build"
						class="fas fa-2x fa-hashtag text-primary"
					></i>
				</div>

				<div class="mt-2">
					<span>{{ recipe.itemsProduced }}</span>
				</div>
			</div>

			<div class="text-center py-4 px-6 mr-4">
				<div class="icon">
					<i
						title="Number of seconds to build this item"
						class="fas fa-2x fa-shipping-timed text-primary"
					></i>
				</div>

				<div class="mt-2">
					<span>{{ recipe.craftingSpeedPerSecond }}</span>
				</div>
			</div>
		</div>
	</div>
</ng-template>
